# ============================================================
# ä¸“å®¶è®¨è®ºæµç¨‹
# ============================================================

meta:
  name: expert-discussion
  description: å¤šAgentä¸“å®¶è®¨è®ºæµç¨‹

# ============================================================
# ä¸“å®¶å®šä¹‰
# ============================================================
experts:

  # æ ¸å¿ƒä¸“å®¶ (å§‹ç»ˆå‚ä¸)
  core:
    - id: mike
      name: Mike
      title: äº§å“ç»ç†
      avatar: ğŸ‘¨â€ğŸ’¼
      focus: åŠŸèƒ½å®Œæ•´å—ï¼Ÿæµç¨‹é¡ºç•…å—ï¼Ÿ
    
    - id: elena
      name: Elena
      title: UXè®¾è®¡å¸ˆ
      avatar: ğŸ‘©â€ğŸ¨
      focus: ç”¨æˆ·ä¼šå›°æƒ‘å—ï¼Ÿå¤Ÿç®€å•å—ï¼Ÿ
    
    - id: david
      name: David
      title: æŠ€æœ¯æ¶æ„å¸ˆ
      avatar: ğŸ‘¨â€ğŸ’»
      focus: æŠ€æœ¯å¯è¡Œå—ï¼Ÿæ¶æ„åˆç†å—ï¼Ÿ

  # æ‰©å±•ä¸“å®¶ (æŒ‰æ¡ä»¶å‚ä¸)
  extended:
    - id: sarah
      name: Sarah
      title: äº§å“ç­–ç•¥å¸ˆ
      avatar: ğŸ‘©â€ğŸ’¼
      when: complexity >= L3
    
    - id: alex
      name: Alex
      title: å®‰å…¨ä¸“å®¶
      avatar: ğŸ”’
      when: type in [blockchain,finance,healthcare] OR hasPayment
    
    - id: lisa
      name: Lisa
      title: å¢é•¿ä¸“å®¶
      avatar: ğŸ“ˆ
      when: complexity >= L3
    
    - id: kevin
      name: Kevin
      title: åŒºå—é“¾ä¸“å®¶
      avatar: â›“ï¸
      when: type in [blockchain,nft,defi]

# ============================================================
# è®¨è®ºé˜¶æ®µ
# ============================================================
phases:

  - id: understanding
    name: éœ€æ±‚ç†è§£
    goal: ç¡®ä¿æ­£ç¡®ç†è§£ç”¨æˆ·éœ€æ±‚
    maxRounds: 1
    actions:
      - PMæ€»ç»“éœ€æ±‚
      - å„ä¸“å®¶æå‡ºç–‘é—®
      - æ¾„æ¸…æ¨¡ç³Šç‚¹

  - id: ideation
    name: æ–¹æ¡ˆæ„æ€
    goal: å„è§’åº¦æå‡ºå»ºè®®
    maxRounds: 1
    actions:
      - æ¯ä½ä¸“å®¶ä»è‡ªå·±è§’åº¦æè®®
      - ä¸æ€¥äºè¯„åˆ¤ï¼Œå…ˆå‘æ•£

  - id: challenge
    name: æŒ‘æˆ˜è´¨ç–‘
    goal: å‘ç°é—®é¢˜å’Œé£é™©
    maxRounds: 2
    actions:
      - ä¸“å®¶äº’ç›¸æŒ‘æˆ˜
      - æå‡ºé—®é¢˜å’Œé£é™©
      - å¹³è¡¡ç”¨æˆ·éœ€æ±‚/æŠ€æœ¯å¯è¡Œ/å•†ä¸šä»·å€¼

  - id: synthesis
    name: æ–¹æ¡ˆç»¼åˆ
    goal: å½¢æˆç»Ÿä¸€æ–¹æ¡ˆ
    maxRounds: 1
    actions:
      - PMç»¼åˆå„æ–¹æ„è§
      - è§£å†³åˆ†æ­§
      - å½¢æˆæœ€ç»ˆæ–¹æ¡ˆ

  - id: validation
    name: æœ€ç»ˆç¡®è®¤
    goal: æ‰€æœ‰ä¸“å®¶ç¡®è®¤
    maxRounds: 1
    actions:
      - å„ä¸“å®¶ç¡®è®¤è‡ªå·±é¢†åŸŸOK
      - æå‡ºæœ€åä¼˜åŒ–å»ºè®®

# ============================================================
# è®¨è®ºæ¨¡å¼
# ============================================================
modes:

  quick:
    name: å¿«é€Ÿæ¨¡å¼
    phases: [understanding, synthesis]
    duration: 30ç§’-1åˆ†é’Ÿ
    userInteraction: minimal

  standard:
    name: æ ‡å‡†æ¨¡å¼
    phases: [understanding, ideation, challenge, synthesis]
    duration: 2-3åˆ†é’Ÿ
    userInteraction: key_points
    default: true

  deep:
    name: æ·±åº¦æ¨¡å¼
    phases: all
    duration: 5-10åˆ†é’Ÿ
    userInteraction: full

  expert:
    name: ä¸“å®¶æ¨¡å¼
    phases: user_controlled
    duration: unlimited
    userInteraction: full

# ============================================================
# APIäº‹ä»¶
# ============================================================
events:
  - type: round_start
    data: { round, phase }
  
  - type: expert_speaking
    data: { expertId }
  
  - type: expert_message
    data: { expertId, content, timestamp }
  
  - type: round_summary
    data: { summary, consensus }
  
  - type: waiting_for_user
    data: { prompt }
  
  - type: conclusion
    data: { conclusion }

# ============================================================
# è¾“å‡ºæ ¼å¼
# ============================================================
output:
  conclusion:
    projectName: string
    positioning: string
    features: Feature[]
    techStack: string[]
    risks: string[]
    recommendations: string[]
    approvals: { expertId, approved, comment }[]
